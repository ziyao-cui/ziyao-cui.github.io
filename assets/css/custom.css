/* ===== Publications (compatible with your front matter) ===== */

/* Outer row: two-column on desktop, single column on small screens */
.pub-row {
  display: grid;
  grid-template-columns: 1fr 150px;    /* main metadata | actions column */
  gap: 1rem;
  align-items: start;
  padding: 0.65rem 0;
  border-bottom: 1px solid rgba(15,23,36,0.04);
}

/* Left column (title, citation, venue/year) */
.pub-meta { min-width: 0; }

/* Title */
.pub-title {
  margin: 0 0 0.25rem 0;
  font-size: 1.05rem;
  line-height: 1.25;
  font-weight: 700;
}
.pub-title a {
  color: #0f1724;
  text-decoration: none;
  transition: color .15s ease, transform .12s ease;
}
.pub-title a:hover,
.pub-title a:focus { color: #4f46e5; transform: translateY(-1px); }

/* Permalink icon next to title (keeps small and aligned) */
.archive__item-title .fa-link,
.pub-title .fa-link {
  margin-left: 0.45rem;
  color: rgba(15,23,36,0.45);
  font-size: 0.85rem;
  vertical-align: middle;
}
.sr-only { position: absolute !important; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); border: 0; }

/* Citation: your field includes HTML like <strong>, so allow HTML and style it */
.pub-citation {
  color: #374151;
  font-size: 0.95rem;
  margin-bottom: 0.35rem;
  word-break: break-word;       /* avoid overflow for long author lists */
}
.pub-citation strong { font-weight: 700; }  /* emphasize authors if wrapped in <strong> */

/* Venue and year (from `venue` and `date`) */
.pub-venue {
  color: #6b7280;
  font-size: 0.9rem;
  margin-bottom: 0.15rem;
  white-space: normal;
}

/* ===== Right column: action links & abstract toggle ===== */
.pub-actions {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  justify-content: start;
  align-items: end;
}

/* Links group: PDF / Abstract / BibTeX / Website / DOI */
.pub-links {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
  justify-content: flex-end;
}
.pub-link {
  font-size: 0.88rem;
  text-decoration: none;
  padding: 0.28rem 0.45rem;
  border-radius: 8px;
  border: 1px solid rgba(15,23,36,0.06);
  background: white;
  color: #0f1724;
  transition: transform .12s ease, box-shadow .12s ease;
}
.pub-link:hover,
.pub-link:focus { transform: translateY(-3px); box-shadow: 0 10px 22px rgba(2,6,23,0.06); }

/* BibTeX link often points to a local file (e.g., '/files/...'), keep it visually similar */
.pub-link[href$=".bib"],
.pub-link[href$=".txt"] { font-style: normal; }

/* Abstract toggle button */
.pub-abstract-toggle {
  padding: 0.34rem 0.62rem;
  border-radius: 8px;
  border: 1px solid rgba(15,23,36,0.06);
  background: #ffffff;
  cursor: pointer;
  font-weight: 600;
  font-size: 0.88rem;
}
.pub-abstract-toggle[aria-expanded="true"] {
  background: linear-gradient(90deg,#eef2ff,#f8fafe);
  border-color: rgba(79,70,229,0.18);
}

/* Abstract content */
.pub-abstract {
  grid-column: 1 / -1;        /* make sure abstract spans full width when revealed */
  width: 100%;
  background: #fbfbfd;
  padding: 0.6rem;
  border-radius: 8px;
  border: 1px solid rgba(15,23,36,0.03);
  color: #374151;
  margin-top: 0.5rem;
  overflow: hidden;
  transition: max-height .22s ease;
}

/* Small visual tweak: avoid extremely long author list pushing layout */
.pub-meta, .pub-actions { min-height: 1px; }

/* ===== Responsive: collapse to single-column on small screens ===== */
@media (max-width: 740px) {
  .pub-row { grid-template-columns: 1fr; }
  .pub-actions { align-items: start; }
  .pub-links { justify-content: flex-start; }
  .pub-abstract { padding: 0.55rem; }
}

/* ===== Optional: make the year headings and list look nicer (if using grouped-by-year index) ===== */
.pub-year {
  font-size: 1.35rem;
  margin-top: 2rem;
  margin-bottom: 0.65rem;
  color: #0f1724;
  border-bottom: 1px solid rgba(15,23,36,0.06);
  padding-bottom: 0.5rem;
}
